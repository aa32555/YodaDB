(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0668":function(t,e,a){},"0781":function(t,e,a){"use strict";a("501f")},"501f":function(t,e,a){},"713b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",{class:t.$q.dark.isActive?"bg-banner-dark":"bg-banner-light"},[t.settingsEntered&&t.isNotSPA||!t.isNotSPA?o("q-header",{class:t.$q.dark.isActive?"text-white bg-black":"text-black bg-green",attrs:{elevated:"","height-hint":"61.59"}},[o("q-toolbar",{staticClass:"q-py-sm q-px-md"},[o("q-btn",{staticStyle:{"margin-right":"10px"},attrs:{round:"",dense:"",flat:"",ripple:!1,to:"/",id:"main-navigation-page"}},[o("q-avatar",{attrs:{size:"42px"}},[o("img",{staticStyle:{"background-color":"white"},attrs:{src:a("9c29")}})])],1),t._e(),o("q-space"),o("div",{staticClass:"q-pl-sm q-gutter-sm row items-center no-wrap"},[o("q-select",{staticStyle:{width:"40px"},attrs:{options:t.langOptions,dense:"",borderless:"","emit-value":"","map-options":"","options-dense":"","label-color":"lime"},scopedSlots:t._u([{key:"selected-item",fn:function(e){return[o("span",{staticClass:"text-white"},[t._v(" "+t._s(e.opt.label)+" ")])]}}],null,!1,1666382474),model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}}),t.isNotSPA?o("q-btn",{attrs:{dense:"",flat:"",round:"",size:"md",icon:"settings"},on:{click:function(e){t.settingsDialog=!0}}}):t._e(),o("q-btn",{attrs:{dense:"",flat:"",round:"",size:"md",icon:"light"===t.theme?"wb_sunny":"nightlight_round"},on:{click:t.changeTheme}})],1)],1)],1):t._e(),o("q-dialog",{attrs:{persistent:""},model:{value:t.settingsDialog,callback:function(e){t.settingsDialog=e},expression:"settingsDialog"}},[o("q-card",{staticStyle:{"min-width":"350px"}},[t.$q.dark.isActive?t._e():o("img",{staticStyle:{"max-width":"50vw",padding:"10px"},attrs:{alt:"Quasar logo",src:a("9c29")}}),t.$q.dark.isActive?o("img",{staticStyle:{"max-width":"50vw",padding:"10px"},attrs:{alt:"Quasar logo",src:a("b121")}}):t._e(),o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("Connection Info")]),o("div")]),o("q-card-section",{staticClass:"q-pt-none"},[o("q-input",{attrs:{outlined:"",label:"IP*",dense:!0,hint:"Server IP. e.g. 192.168.1.5",rules:[function(e){return t.ValidateIPaddress(e)||"Please type a valid IP!"}]},model:{value:t.ip,callback:function(e){t.ip=e},expression:"ip"}})],1),o("q-card-section",{staticClass:"q-pt-none"},[o("q-input",{attrs:{outlined:"",label:"Port*",dense:!0,hint:"Server port. e.g. 8089",rules:[function(t){return parseInt(t)>0&&parseInt(t)<999999||"Please type a valid Port!"}]},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}})],1),o("q-card-section",{staticClass:"q-pt-none"},[o("q-select",{attrs:{outlined:"",options:["http","https"],label:"Protocol*",dense:!0,hint:"Connection protocol"},model:{value:t.protocol,callback:function(e){t.protocol=e},expression:"protocol"}})],1),o("q-card-actions",{staticClass:"text-success",attrs:{align:"right"}},[o("q-btn",{attrs:{flat:"",disable:t.checkingConnection,label:t.checkingConnection?"Checking connection...":"OK"},on:{click:t.setSettings}})],1)],1)],1),t.settingsEntered&&t.isNotSPA||!t.isNotSPA?o("q-page-container",[o("router-view")],1):t._e()],1)},n=[],i=a("c973"),s=a.n(i),r=(a("ac1f"),a("00b4"),a("96cf"),{name:"MyLayout",data:function(){return{checkingConnection:!1,settingsDialog:!1,ip:"",protocol:"http",port:"",theme:"light",lang:"en-us",langOptions:[{value:"en-us",label:"EN"},{value:"ar",label:"AR"}],settingsEntered:!1}},mounted:function(){"en-us"!==this.$i18n.locale&&(this.lang="en-us")},created:function(){var t=this;if(this.theme=this.$q.localStorage.getItem("ydb-app-theme")||"light","dark"===this.theme?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$q.localStorage.getItem("ydb-app-ip")&&this.$q.localStorage.getItem("ydb-app-port")&&this.$q.localStorage.getItem("ydb-app-protocol")){this.ip=this.$q.localStorage.getItem("ydb-app-ip"),this.port=this.$q.localStorage.getItem("ydb-app-port"),this.protocol=this.$q.localStorage.getItem("ydb-app-protocol");var e={ip:this.ip,port:this.port,protocol:this.protocol};this.$store.dispatch("app/setAppDetails",e),this.settingsEntered=!0}else this.isNotSPA&&setTimeout((function(){t.settingsDialog=!0}),1e3)},methods:{setSettings:function(){var t=this;return s()(regeneratorRuntime.mark((function e(){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.port&&t.ip&&t.protocol)){e.next=25;break}return a={ip:t.ip,port:t.port,protocol:t.protocol},t.$q.localStorage.set("ydb-app-ip",t.ip),t.$q.localStorage.set("ydb-app-port",t.port),t.$q.localStorage.set("ydb-app-protocol",t.protocol),t.$store.dispatch("app/setAppDetails",a),t.checkingConnection=!0,e.next=9,t.$M("PING^%YDBWEBAPI");case 9:if(o=e.sent,o&&o.RESULT&&"PONG"===o.RESULT){e.next=21;break}return t.checkingConnection=!1,t.$q.notify({message:"Connection failed!",color:"negative"}),n={ip:"",port:"",protocol:""},t.$q.localStorage.set("ydb-app-ip",""),t.$q.localStorage.set("ydb-app-port",""),t.$q.localStorage.set("ydb-app-protocol",""),t.$store.dispatch("app/setAppDetails",n),e.abrupt("return");case 21:t.checkingConnection=!1,t.$q.notify({message:"Connection succeeded!",color:"positive"});case 23:e.next=27;break;case 25:return t.$q.notify({message:"Please enter the IP, Port and Protocol to connect to the server",color:"negative"}),e.abrupt("return");case 27:t.settingsDialog=!1,location.reload(!0);case 29:case"end":return e.stop()}}),e)})))()},ValidateIPaddress:function(t){return"localhost"===t||!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)},changeTheme:function(){"light"===this.theme?(this.$q.dark.set(!0),this.theme="dark"):(this.$q.dark.set(!1),this.theme="light"),this.$q.localStorage.set("ydb-app-theme",this.theme)}},watch:{lang:function(t){this.$i18n.locale=t}},computed:{isNotSPA:function(){return!0}}}),c=r,l=(a("83ec"),a("0781"),a("2877")),p=a("4d5a"),d=a("e359"),g=a("65c6"),u=a("9c40"),h=a("cb32"),b=a("f20b"),m=a("1c1c"),q=a("66e5"),f=a("4074"),v=a("0170"),k=a("2c91"),S=a("ddd8"),$=a("24e8"),y=a("f09f"),x=a("a370"),w=a("27f9"),P=a("4b7e"),C=a("09e3"),I=a("8572"),Q=a("7f67"),A=a("eebe"),_=a.n(A),D=Object(l["a"])(c,o,n,!1,null,"3a9c62ab",null);e["default"]=D.exports;_()(D,"components",{QLayout:p["a"],QHeader:d["a"],QToolbar:g["a"],QBtn:u["a"],QAvatar:h["a"],QBtnDropdown:b["a"],QList:m["a"],QItem:q["a"],QItemSection:f["a"],QItemLabel:v["a"],QSpace:k["a"],QSelect:S["a"],QDialog:$["a"],QCard:y["a"],QCardSection:x["a"],QInput:w["a"],QCardActions:P["a"],QPageContainer:C["a"],QField:I["a"]}),_()(D,"directives",{ClosePopup:Q["a"]})},"83ec":function(t,e,a){"use strict";a("0668")},"9c29":function(t,e,a){t.exports=a.p+"img/ksa-light.74ccbc20.webp"},b121:function(t,e,a){t.exports=a.p+"img/ksa-dark.3878ca3b.webp"}}]);